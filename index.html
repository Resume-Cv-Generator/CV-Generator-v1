<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    </head>
    <body>
        <style>
            * {
              box-sizing: border-box;
            }
            
            body {
              background-color:#f1f1f1;
            }
            
            #regFormDisp {
                background-color: #ffffff;
                margin: 100px auto;
                font-family: Raleway;
                padding: 40px;
                width: 70%;
                min-width: 300px;
            }
            
            h1 {
              text-align: center;  
            }
            
            input {
                padding: 10px;
                width: 100%;
                font-size: 17px;
                font-family: Raleway;
            }

            textarea {
                padding: 10px;
                width: 100%;
                font-size: 17px;
                font-family: Raleway;
            }

            /* Mark input boxes that gets an error on validation: */
            input.invalid {
              background-color: #ffdddd;
            }
            
            /* Hide all steps by default: */
            .tab {
              display: none;
            }
            
            button {
              background-color: #009dff;
              color: #ffffff;
              border: none;
              padding: 10px 20px;
              font-size: 17px;
              font-family: Raleway;
              cursor: pointer;
            }
            
            button:hover {
              opacity: 0.8;
            }

            .modal-button {
                background-color: #009dff;
                color: #ffffff;
                border: none;
                padding: 10px 20px;
                font-size: 17px;
                font-family: Raleway;
                cursor: pointer;
                overflow: auto;
                float: right;
                margin-left: 5px;
            }

            
            #prevBtn {
              background-color: #bbbbbb;
            }

            /* Make circles that indicate the steps of the form: */
            .step {
              height: 15px;
              width: 15px;
              margin: 0 2px;
              background-color: #009dff;
              border: none;  
              border-radius: 50%;
              display: inline-block;
              opacity: 0.5;
            }
            
            .step.active {
              opacity: 1;
            }

            #closemodal {
                border: none;
                border-radius: 0px!important;
                padding: 10px 20px;
                font-size: 17px;
                font-family: Raleway;
            }

            @media print{
                body {
                    margin: 0;
                    padding: 0;
                }

                @page {               
                    size: A4;
                    margin: -10;
                    padding: 0;
                    size: auto;
              }
            }
              
            </style>

<!-- <form name="myForm" action="/action_page.php" onsubmit="return validateForm()" method="post" required> -->
        <form id="regFormDisp" name="regFormDisp" action="/action_page.php" onsubmit="return validateFormDisp()" method="post" required>
            <h1><b>Curriculum Generator</b></h1>
                <!-- One "tab" for each step in the form: -->
                <hr/>
                <div class="tab"><b>Name:</b>
                <p><input class="inputElements" id="cName" placeholder="Complete name..."  name="cName"></p>
                <button type="button" onclick="test()" value="Submit"><b>Test</b></button>
                </div>
            <div class="tab">
                <p><b>Linkedn:</b><input class="inputElements" id="linkedn" placeholder="Place your linkedn's link..." name="linkedn" type="text"></p>
                <p><b>Whatsapp:</b><input class="inputElements" id="whatsapp" placeholder="Place your Whatsapp number..." name="lhatsapp"></p>
                <p><b>Email:</b><input class="inputElements" id="email" placeholder="Place your Email address..." name="email"></p>
                <p><b>Git:</b><input class="inputElements" id="git" placeholder="Place your git's link..." name="git"></p>
            </div>
            <div class="tab"><b>Sumary:</b>
                <!-- <p><input class="inputElements" type="text" id="sumary" placeholder="Describe your professional aspiration..." name="sumary" maxlength="500"></p> -->
                <p><textarea class="inputElements" type="text" class="jobduplicate" name="responsibilities" maxlength="500"> </textarea></p>
            </div>
            <div class="tab">
                <div class="tabJob">
                <div class="duplicJob">
                    <p><b>Employer:</b><input class="inputElements" class="jobduplicate" placeholder="Employer..." name="employerName"></p>
                    <p><b>Job:</b><input class="inputElements" class="jobduplicate" placeholder="Job..." name="jobName"></p>
                    <div class="row">
                    <div class="col">
                    <p><b>Start Date:</b><input class="inputElements" class="jobduplicate" placeholder="Start Date..." name="startDa/teJob" type="month"></p>
                    </div>
                    <div class="col">
                    <p><b>End Date:</b><input class="inputElements" class="jobduplicate" placeholder="End Date..." name="endDateJob" type="month"></p>
                    </div>
                    </div>
                    <!-- <p><b>Responsabilities:</b><input class="inputElements" class="jobduplicate" placeholder="Describe your responsibilities.." name="responsibilities" maxlength="150"></p> -->
                    <p><b>Responsabilities:</b></br><textarea class="inputElements" type="text" class="jobduplicate" name="responsibilities" maxlength="150"> </textarea></p>
                    <hr/>
                </div>
                </div>
                <button id="jobPlus" type="button" onclick="codeduplicate('jobDuplic')">+</button> 
            </div>
            <div class="tab">
                <div class="tabSkill">
                <div class="duplicSkill">
                <p><b>Skills:</b><input class="inputElements" id="skillName" placeholder="Name your skill..." name="skillName"></p>
                <p><b>Skill Description:</b><input class="inputElements" id="skillDescrip" placeholder="Describe your skill..." name="skillDescrip"></p>
                <hr/>    
                </div>
                </div>
                <button id="skillPlus" type="button" onclick="codeduplicate('skillDuplic')">+</button> 
            </div>
            <div class="educTab">
            <div class="tab">
                <div class="tabEduc">
                <div class="duplicEduc">
                    <p><b>Educational Institution:</b><input class="inputElements" class="educduplicate" placeholder="Institution Name..." name="institutionName"></p>
                    <p><b>Course:</b><input class="inputElements" class="educduplicate" placeholder="Course Name..." name="courseName"></p>
                    <div class="row">
                    <div class="col">
                    <p><b>Start Date:</b><input class="inputElements" class="educduplicate" placeholder="Start Date..." name="startDateCourse" type="month"></p>
                    </div>
                    <div class="col">
                    <p><b>End Date:</b><input class="inputElements" class="educduplicate" placeholder="End Date..." name="endDateCourse" type="month"></p>
                    </div>
                    </div>
                    <p><b>Status:</b><input class="inputElements" class="educduplicate" placeholder="Status of the course..." name="courseStatus"></p>
                    <hr/>
                </div>
                </div>
                <button id="educPlus" type="button" onclick="codeduplicate('educDuplic')">+</button> 
            </div>
            </div>
            <div style="overflow:auto;">
                <div style="float:right;">
                    <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                    <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
                    <!-- <button type="button" id="generateCV" onclick="finishedCV()" value="Submit" data-bs-toggle="modal" data-bs-target="#exampleModal">Generate CV</button> -->
                    <button type="button" id="generateCV" onclick="downloadpdf();finishedCV();" value="Submit" >Generate CV</button>
                </div>
            </div>
          <!-- Circles which indicates the steps of the form: -->
            <div style="text-align:center;margin-top:40px;">
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
            </div>

        </form>

        <div id="modal-body2" style="display: none;">
            <h1 class="foutput2 output2"><b></b></h1>
            <h4>Frontend Developer</h4>
            <hr/>
            <section>
                <p><a class="llinkedn2" href="">Linkedn: <b class="foutput2 output2"></b></a>  <a class="lwhats2" href="">Whatsapp: <b class="foutput2 output2"></b></a></p></br>
                <p><a class="lemail2" href="">Email: <b class="foutput2 output2"></b></a>  <a class="lgit2" href="">Git: <b class="foutput2 output2"></b></a></p>
            </section>
            <hr/>
            <section>
                <h2>Sumary</h2>
                <p class="foutput2 output2"></p>
            </section>
            <hr/>
            <section>
                <div>
                <h2>Experience</h2>
                <ul class="idExp2">
                    <li class="duplicJobOutput2">
                        <p><b class="foutput2 expOutput2 output2"></b> at <b class="foutput2 expOutput2 output2" ></b></p>
                        <p><small class="foutput2 expOutput2 output2"></small> -  <small class="foutput2 expOutput2 output2"></small></p>
                        <p class="foutput2 expOutput2 output2"></p>
                    </li>
                </ul>
                </div>
            </section>
            <hr/>
            <section>
                <h2>Skills</h2>
                <ul class="idSkill2">
                    <li class="duplicSkOutput2">
                        <p><b class="foutput2 output2"></b>: <small class="foutput2 output2"></small></p>
                    </li>
                </ul>
            </section>
            <hr/>
            <section>
                <h2>Education</h2>
                <ul class="idEduc2">
                    <li class="duplicEducOutput2">
                        <p><b class="foutput2 educOutput2 output2"></b>: <small class="foutput2 educOutput2 output2"></small></p>
                        <p><small class="foutput2 educOutput2 output2"></small> - <small class="foutput2 educOutput2 output2"></small> - <small class="foutput2 educOutput2 output2"></small></p>
                    </li>
                </ul>
            </section>
        </div>

        
        <script>

            // function test(){
            //     const x = document.querySelectorAll('form .inputElements')
            //     const btn = document.querySelectorAll('button')
                   
            //         x[0].value = 'Don Corleoni'
            //         btn[5].click()
            //         x[1].value = 'https://www.google.com'
            //         x[2].value = '55 99999 9999'
            //         x[3].value = 'test@mail.com'
            //         x[4].value = 'https://www.google.com'
            //         btn[5].click()
            //         x[5].value = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Excepteur sint occaecat cupidatat non proident, sunt i'
            //         btn[5].click()
            //         x[6].value = 'Lorem ipsum'
            //         x[7].value = 'Lorem ipsum'
            //         x[8].value = '2022-11'
            //         x[9].value = '2022-11'
            //         x[10].value = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, q'
            //         btn[5].click()
            //         x[11].value = 'Lorem ipsum'
            //         x[12].value = 'Lorem ipsum'
            //         btn[5].click()
            //         x[13].value = 'Lorem ipsum'
            //         x[14].value = 'Lorem ipsum'
            //         x[15].value = '2022-11'
            //         x[16].value = '2022-11'
            //         x[17].value = 'Lorem ipsum'
            //         btn[6].click()
            //         // btn[9].click()

            // }

            function codeduplicate(typeduplicate){

                    const jobNode = document.getElementsByClassName("duplicJob");
                    const jobClone = jobNode[0].cloneNode(true);
                    const job = document.getElementsByClassName("tabJob");

                    const jobNodeOutput2 = document.getElementsByClassName("duplicJobOutput2");
                    const jobCloneOutput2 = jobNodeOutput2[0].cloneNode(true);
                    const jobOutput2 = document.getElementsByClassName("idExp2");

                    for (i=0; i < jobNode.length; i++){
                        if (typeduplicate == 'jobDuplic'){
                           job[0].appendChild(jobClone);
                           jobOutput2[0].appendChild(jobCloneOutput2)
                        }
                    }

                    const SkillNode = document.getElementsByClassName("duplicSkill");
                    const SkillClone = SkillNode[0].cloneNode(true);
                    const Skill = document.getElementsByClassName("tabSkill");

                    const SkillNodeOutput2 = document.getElementsByClassName("duplicSkOutput2");
                    const SkillCloneOutput2 = SkillNodeOutput2[0].cloneNode(true);
                    const SkillOutput2 = document.getElementsByClassName("idSkill2");

                    for (i=0; i < SkillNode.length; i++){
                        if (typeduplicate == 'skillDuplic'){
                            Skill[0].appendChild(SkillClone);
                            SkillOutput2[0].appendChild(SkillCloneOutput2)
                        }
                    }

                    const EducNode = document.getElementsByClassName("duplicEduc");
                    const EducClone = EducNode[0].cloneNode(true);
                    const Educ = document.getElementsByClassName("tabEduc");

                    const EducNodeOutput2 = document.getElementsByClassName("duplicEducOutput2");
                    const EducCloneOutput2 = EducNodeOutput2[0].cloneNode(true);
                    const EducOutput2 = document.getElementsByClassName("idEduc2");

                    for (i=0; i < EducNode.length; i++){
                        if (typeduplicate == 'educDuplic'){
                            Educ[0].appendChild(EducClone);
                            EducOutput2[0].appendChild(EducCloneOutput2);
                        }
                    }
                }

// this function executes js for get input.value and output in CV 

            function finishedCV() {

                const inputElements = document.querySelectorAll("form  .inputElements")
                data_ids = []
                a = []

                for (var i = 0; i < inputElements.length; i++) {
                    data_ids[i] = (inputElements[i].Id)
                    a[i] = inputElements[i].value
                }

                const outputElements2 = document.getElementsByClassName("foutput2");
                // data_output = []
                // console.log('outputElements', outputElements)
                f = []
                g = []

                for (var j = 0; j < data_ids.length; j++) {
                    if (a.length > 0){
                        // data_output[j] = (outputElements[j])
                        // b = document.getElementsByClassName(data_output[j]);
                        g = outputElements2[j]
                        f = document.createTextNode(a[j]);
                        g.insertBefore(f, g.children[j]);

                        const data = ['linkedn', 'whatsapp', 'git'];

                        llinkedn = document.getElementsByClassName("llinkedn2");
                        llinkedn[0].setAttribute('href', linkedn.value)

                        lwhats = document.getElementsByClassName("lwhats2")
                        var whats="https://web.whatsapp.com/send?phone=" + whatsapp.value // pattern +xx xx xxxxx xxxx
                        lwhats[0].setAttribute('href', whats);

                        lgit = document.getElementsByClassName("lgit2");
                        lgit[0].setAttribute('href', git.value);   
                        }
                    }
                }
                    
            var currentTab = 0; // Current tab is set to be the first tab (0)
            showTab(currentTab); // Display the current tab

            function showTab(n) {
// This function will display the specified tab of the form...
                var x = document.getElementsByClassName("tab");
                x[n].style.display = "block";
//... and fix the Previous/Next buttons:
                if (n == 0) {
                    document.getElementById("generateCV").style.display = "none";
                    document.getElementById("prevBtn").style.display = "none";
                } else {
                    document.getElementById("generateCV").style.display = "none";
                    document.getElementById("prevBtn").style.display = "inline";
                }
                if (n == (x.length - 1)) {
                    document.getElementById("nextBtn").style.display = "none";
                    document.getElementById("prevBtn").style.display = "inline";
                    document.getElementById("generateCV").style.display = "inline";
                } else {
                    document.getElementById("generateCV").style.display = "none";
                    document.getElementById("nextBtn").style.display = "inline";
                }
//... and run a function that will display the correct step indicator:
                fixStepIndicator(n)
            }

            function nextPrev(n) {
// This function will figure out which tab to display
                var x = document.getElementsByClassName("tab");
// Exit the function if any field in the current tab is invalid:
//                if (n == 1 && !validateForm()) return false;
// Hide the current tab:
                x[currentTab].style.display = "none";
// Increase or decrease the current tab by 1:
                currentTab = currentTab + n;
// if you have reached the end of the form...
                if (currentTab >= x.length) {
// ... the form gets submitted:
                    document.getElementById("regForm").submit();
                    return false;
                }
// Otherwise, display the correct tab:
                showTab(currentTab);
            }

            function validateForm() {
// This function deals with validation of the form fields
                var x, y, i, valid = true;
                x = document.getElementsByClassName("tab");
                y = x[currentTab].getElementsByTagName("input");
// A loop that checks every input field in the current tab:
                for (i = 0; i < y.length; i++) {
// If a field is empty...
                    if (y[i].value == "") {
// add an "invalid" class to the field:
                        y[i].className += " invalid";
// and set the current valid status to false
                        valid = false;
                    }
                }
// If the valid status is true, mark the step as finished and valid:
                if (valid) {
                    document.getElementsByClassName("step")[currentTab].className += " finish";
                }
                return valid; // return the valid status
            }

            function fixStepIndicator(n) {
// This function removes the "active" class of all steps...
                var i, x = document.getElementsByClassName("step");
                for (i = 0; i < x.length; i++) {
                  x[i].className = x[i].className.replace(" active", "");
                }
//... and adds the "active" class on the current step:
                x[n].className += " active";
            }


            function downloadpdf() { 

                x = document.querySelector('#regFormDisp')
                x.style.display='none'


                y = document.querySelector('#modal-body2')
                y.style.display='unset'

            //         // var win = window.open('','','left=0,top=0,width=552,height=477,toolbar=0,scrollbars=0,status =0');
            //         // document.write(content);
            setTimeout(() => {
                window.print();
                }, "2000")
            // //         // win.window.close();
                    
            }
        
        </script>
    </body>
</html>