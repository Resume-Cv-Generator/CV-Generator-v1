<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    </head>
    <body>
        <style>
            * {
              box-sizing: border-box;
            }
            
            body {
              background-color: #f1f1f1;
            }
            
            #regFormDisp {
              background-color: #ffffff;
              margin: 100px auto;
              font-family: Raleway;
              padding: 40px;
              width: 70%;
              min-width: 300px;
            }
            
            h1 {
              text-align: center;  
            }
            
            input {
              padding: 10px;
              width: 100%;
              font-size: 17px;
              font-family: Raleway;
              border: 1px solid 5#aaaaaa;
            }
            
            /* Mark input boxes that gets an error on validation: */
            input.invalid {
              background-color: #ffdddd;
            }
            
            /* Hide all steps by default: */
            .tab {
              display: none;
            }
            
            button {
              background-color: #04AA6D;
              color: #ffffff;
              border: none;
              padding: 10px 20px;
              font-size: 17px;
              font-family: Raleway;
              cursor: pointer;
            }
            
            button:hover {
              opacity: 0.8;
            }
            
            #prevBtn {
              background-color: #bbbbbb;
            }
            /* aleatóriozão */
            /* Make circles that indicate the steps of the form: */
            .step {
              height: 15px;
              width: 15px;
              margin: 0 2px;
              background-color: #bbbbbb;
              border: none;  
              border-radius: 50%;
              display: inline-block;
              opacity: 0.5;
            }
            
            .step.active {
              opacity: 1;
            }
            
            /* Mark the steps that are finished and valid: */
            .step.finish {
              background-color: #04AA6D;
            }

            .curriculum {
                display: none;
            }
            </style>

<!-- <form name="myForm" action="/action_page.php" onsubmit="return validateForm()" method="post" required> -->
        <form id="regFormDisp" name="regFormDisp" action="/action_page.php" onsubmit="return validateFormDisp()" method="post" required>
            <h1>Curriculum Generator</h1>
            <!-- One "tab" for each step in the form: -->
            <div class="tab">Name:
                <p><input id="cName" placeholder="Complete name..."  name="cName"></p>
            </div>
            <div class="tab">Links:
                <p><input id="linkedn" placeholder="Linkedn your linkedn's link..." name="linkedn"></p>
                <p><input id="whatsapp" placeholder="Whatsapp..." name="lhatsapp"></p>
                <p><input id="email" placeholder="Email..." name="email"></p>
                <p><input id="git" placeholder="Place your git's link..." name="git"></p>
            </div>
            <div class="tab">Sumary:
                <p><input id="sumary" placeholder="Describe your professional aspiration..." name="sumary"></p>
            </div>
            <div class="tab">Jobs:
                <p><input id="employerName" placeholder="Employer..." name="employerName"></p>
                <p><input id="jobName" placeholder="Job..." name="jobName"></p>
                <p><input id="startDateJob" placeholder="Start Date..." name="startDateJob" type="month"></p>
                <p><input id="endDateJob" placeholder="End Date..." name="endDateJob" type="month"></p>
                <p><input id="responsibilities" placeholder="Describe your responsibilities.." name="responsibilities"></p>
            </div>
            <div class="tab">Skills:
                <p><input id="skillName" placeholder="Name your skill..." name="skillName"></p>
                <p><input id="skillDescrip" placeholder="Describe your skill..." name="skillDescrip"></p>
            </div>
            <div class="tab">Educational:
                <p><input id="institutionName" placeholder="Institution Name..." name="institutionName"></p>
                <p><input id="courseName" placeholder="Course Name..." name="courseName"></p>
                <p><input id="startDateCourse" placeholder="Start Date..." name="startDateCourse" type="month"></p>
                <p><input id="endDateCourse" placeholder="End Date..." name="endDateCourse" type="month"></p>
                <p><input id="courseStatus" placeholder="Status of the course..." name="courseStatus"></p>
            </div>
       <div style="overflow:auto;">
                <div style="float:right;">
                    <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                    <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
                    <!-- <button id="generateCV" onclick=generateCV() value="Submit">Generate CV</button> -->
                    <button type="button" id="generateCV" onclick="finishedCV()" value="Submit" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Generate CV</b/utton>
                </div>
            </div>
          <!-- Circles which indicates the steps of the form: -->
            <div style="text-align:center;margin-top:40px;">
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
                <span class="step"></span>
            </div>
        </form>

        <!-- modal for show finished Curriculum Vitae and donwload a pdf generated : -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Curriculum</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="modal-body">
                        <h1 id="name"></h1>
                        <h4>Frontend Developer</h4>
                        <hr/>
                        <section>
                            <p><a class="llinkedn" href="">Linkedn: <b id="illinkedn"></b></a>
                            <a class="lwhats" href="">Whatsapp: <b id="ilwhats"></b></a>
                            <a class="lemail" href="">Email: <b id="ilemail"></b></a>
                            <a class="lgit" href="">Git: <b id="ilgit"></b></a></p>
                        </section>
                        <hr/>
                        <hr/>
                        <section>
                            <h2>Sumary</h2>
                            <p id="sum"></p>
                        </section>
                        <hr/>
                        <section>
                            <h2>Experience</h2>
                            <ol>
                                <li>
                                    <p><b id="jName"></b> at <b id="empName"></b> <br/>
                                    <span><small id="jStartDate"></small><small id="jEndDate"></small></span>    
                                    </p>
                                    <p id="jobD"></p>
                                </li>
                            </ol>
                        </section>
                        <hr/>
                        <section>
                            <h2>Skills</h2>
                            <ul>
                                <li><b id="skill"></b>: <small id="skillD"></small></li>
                            </ul>
                        </section>
                        <hr/>
                        <section>
                          <h2>Education</h2>
                          <ul>
                                <li>
                                    <p><b id="iName"></b>: <small id="cname"></small></p>
                                    <small id="cStartDate"></small><small id="cEndDate"></small> - <small id="cStatus"></small>    
                                </li>
                          </ul>
                        </section>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Download CV.pdf</button>
                    </div>
                </div>
            </div>
        </div>



        
        <script>

// this function executes js for het input.value and output in CV 
            function finishedCV() {
                const inputElements = document.querySelectorAll("input")
                const data_ids = []
                const a = []
                const data_output =[]
                const b = []
                for (var i = 0; i < inputElements.length; i++) {
                    data_ids[i] = (inputElements[i].id)
                    a[i] = inputElements[i].value

                }

                for (var j = 0; j < data_ids.length; j++) {
                const outputElements = document.getElementById("modal-body").querySelectorAll("[id]");
                    data_output[j] = (outputElements[j].id)
                    const c = document.createTextNode(a[j]);

                    if (a.length > 0){
                        const b = document.getElementById(data_output[j]);
                        b.insertBefore(c, b.children[j]);

                        const data = ['linkedn', 'whatsapp', 'git'];

                        const llinkedn = document.getElementsByClassName("llinkedn");
                        llinkedn[0].setAttribute('href', linkedn.value)

                        const lwhats = document.getElementsByClassName("lwhats")
                        var whats="https://web.whatsapp.com/send?phone=" + whatsapp.value // pattern +xx xx xxxxx xxxx
                        lwhats[0].setAttribute('href', whats);

                        const lgit = document.getElementsByClassName("lgit");
                        lgit[0].setAttribute('href', git.value);    
                    }
                       }
                    }
                   
                    



                    
            
            var currentTab = 0; // Current tab is set to be the first tab (0)
            showTab(currentTab); // Display the current tab

            function showTab(n) {
// This function will display the specified tab of the form...
                var x = document.getElementsByClassName("tab");
                x[n].style.display = "block";
//... and fix the Previous/Next buttons:
                if (n == 0) {
                    document.getElementById("generateCV").style.display = "none";
                    document.getElementById("prevBtn").style.display = "none";
                } else {
                    document.getElementById("generateCV").style.display = "none";
                    document.getElementById("prevBtn").style.display = "inline";
                }
                if (n == (x.length - 1)) {
                    document.getElementById("nextBtn").style.display = "none";
                    document.getElementById("prevBtn").style.display = "inline";
                    document.getElementById("generateCV").style.display = "inline";
                } else {
                    document.getElementById("generateCV").style.display = "none";
                    document.getElementById("nextBtn").style.display = "inline";
                }
//... and run a function that will display the correct step indicator:
                fixStepIndicator(n)
            }

            function nextPrev(n) {
// This function will figure out which tab to display
                var x = document.getElementsByClassName("tab");
// Exit the function if any field in the current tab is invalid:
//                if (n == 1 && !validateForm()) return false;
// Hide the current tab:
                x[currentTab].style.display = "none";
// Increase or decrease the current tab by 1:
                currentTab = currentTab + n;
// if you have reached the end of the form...
                if (currentTab >= x.length) {
// ... the form gets submitted:
                    document.getElementById("regForm").submit();
                    return false;
                }
// Otherwise, display the correct tab:
                showTab(currentTab);
            }

            function validateForm() {
// This function deals with validation of the form fields
                var x, y, i, valid = true;
                x = document.getElementsByClassName("tab");
                y = x[currentTab].getElementsByTagName("input");
// A loop that checks every input field in the current tab:
                for (i = 0; i < y.length; i++) {
// If a field is empty...
                    if (y[i].value == "") {
// add an "invalid" class to the field:
                        y[i].className += " invalid";
// and set the current valid status to false
                        valid = false;
                    }
                }
// If the valid status is true, mark the step as finished and valid:
                if (valid) {
                    document.getElementsByClassName("step")[currentTab].className += " finish";
                }
                return valid; // return the valid status
            }

            function fixStepIndicator(n) {
// This function removes the "active" class of all steps...
                var i, x = document.getElementsByClassName("step");
                for (i = 0; i < x.length; i++) {
                  x[i].className = x[i].className.replace(" active", "");
                }
//... and adds the "active" class on the current step:
                x[n].className += " active";
            }
//function finishedCV() executes

        </script>
    </body>
</html>